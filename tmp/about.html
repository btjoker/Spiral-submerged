<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
</head>
<body>
    <h1 id="jsonp">fkdsjkfdsjfk</h1>
    <button onclick="get()">点我 </button>
</body>
<script>
function get() {
    var 
        js = document.createElement("script");
        head = document.getElementsByTagName("head")[0];
        // callbak 是回调请求的函数名字
    js.src = "http://v.juhe.cn/weather/ip?format=2&key=8d13dacc40ce9b9bcd1cc4be81922cb0&ip=58.215.185.154&callback=refresh"
    head.appendChild(js)
}
// 具体解析返回的json数据
function refresh(data) {
    var p = document.getElementById("jsonp");
    p.innerHTML = "风向:" + data["result"].sk.wind_direction + 
                  "   风级" +　data["result"].sk.wind_strength;
}
</script>
</html>

